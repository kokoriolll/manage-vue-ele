(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bc44010"],{1305:function(e,t,i){"use strict";var s=i("3eb4"),n=i.n(s);n.a},"16d8":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:e.id}})},n=[],o=i("3f47"),a=i("208e"),u=i.n(a),d=(i("e5d4"),i("550e"),i("233f"),i("d341")),r=i.n(d),l={minHeight:"200px",previewStyle:"vertical",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!1,hideModeSwitch:!1,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]},c={name:"MarddownEditor",props:{value:{type:String,default:""},id:{type:String,required:!1,default:function(){return"markdown-editor-"+ +new Date+(1e3*Math.random()).toFixed(0)}},options:{type:Object,default:function(){return l}},mode:{type:String,default:"markdown"},height:{type:String,required:!1,default:"300px"},language:{type:String,required:!1,default:"en_US"}},data:function(){return{editor:null}},computed:{editorOptions:function(){var e=u()({},l,this.options);return e.initialEditType=this.mode,e.height=this.height,e.language=this.language,e}},watch:{value:function(e,t){e!==t&&e!==this.editor.getValue()&&this.editor.setValue(e)},language:function(e){this.destroyEditor(),this.initEditor()},height:function(e){this.editor.height(e)},mode:function(e){this.editor.changeMode(e)}},mounted:function(){this.initEditor()},destroyed:function(){this.destroyEditor()},methods:{initEditor:function(){var e=this;this.editor=new r.a(Object(o["a"])({el:document.getElementById(this.id)},this.editorOptions)),this.value&&this.editor.setValue(this.value),this.editor.on("change",function(){e.$emit("input",e.editor.getValue())})},destroyEditor:function(){this.editor&&(this.editor.off("change"),this.editor.remove())},setValue:function(e){this.editor.setValue(e)},getValue:function(){return this.editor.getValue()},setHtml:function(e){this.editor.setHtml(e)},getHtml:function(){return this.editor.getHtml()}}},_=c,m=i("17cc"),h=Object(m["a"])(_,s,n,!1,null,null,null);t["a"]=h.exports},2161:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",{staticClass:"title"},[e._v("添加试题")]),e._v(" "),i("div",{staticClass:"box"},[i("Addque")],1)])},n=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("p",[e._v("添加试题")]),e._v(" "),i("div",{staticClass:"stem"},[i("span",{staticClass:"stem_g"},[e._v("题干")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.sel_id.title,expression:"sel_id.title"}],attrs:{type:"text",placeholder:"请输入题目标题，不超过20个字",maxlength:"20"},domProps:{value:e.sel_id.title},on:{input:function(t){t.target.composing||e.$set(e.sel_id,"title",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"theme"},[i("span",[e._v("题目主题")]),e._v(" "),i("div",{staticClass:"editor-container"},[i("markdown-editor",{attrs:{height:"300px"},model:{value:e.sel_id.questions_stem,callback:function(t){e.$set(e.sel_id,"questions_stem",t)},expression:"sel_id.questions_stem"}})],1)]),e._v(" "),i("div",{staticClass:"exam_style"},[i("span",[e._v("请选择考试类型:")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.Type(t,"exam")}},model:{value:e.examTypes,callback:function(t){e.examTypes=t},expression:"examTypes"}},e._l(e.examType,function(e,t){return i("el-option",{key:e.exam_id,attrs:{label:e.exam_name,value:e.exam_id}})}),1)],1),e._v(" "),i("div",{staticClass:"exam_style"},[i("span",[e._v("请选择课程类型:")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.Type(t,"sub")}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.subject,function(e){return i("el-option",{key:e.subject_id,attrs:{label:e.subject_text,value:e.subject_id}})}),1)],1),e._v(" "),i("div",{staticClass:"exam_style"},[i("span",[e._v("请选择题目类型:")]),e._v(" "),i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.Type(t,"topic")}},model:{value:e.coures,callback:function(t){e.coures=t},expression:"coures"}},e._l(e.QuestionsType,function(e){return i("el-option",{key:e.questions_type_id,attrs:{label:e.questions_type_text,value:e.questions_type_id}})}),1)],1),e._v(" "),i("div",{staticClass:"theme"},[i("span",[e._v("答案信息")]),e._v(" "),i("div",{staticClass:"editor-container"},[i("markdown-editor",{attrs:{height:"300px"},model:{value:e.sel_id.questions_answer,callback:function(t){e.$set(e.sel_id,"questions_answer",t)},expression:"sel_id.questions_answer"}})],1)]),e._v(" "),i("el-button",{staticClass:"addbtn",attrs:{type:"text"},on:{click:e.submit}},[e._v("提交")])],1)},a=[],u=i("cc80"),d=i.n(u),r=(i("612f"),i("4453"),i("ee95")),l=i("3f47"),c=i("16d8"),_=i("52c1"),m={name:"MarkdownDemo",components:{MarkdownEditor:c["a"]},data:function(){return{html:"",examTypes:"",value:"",coures:"",questions_id:"",sel_id:{exam_id:"",subject_id:"",questions_type_id:"",questions_stem:"",title:"",questions_answer:""}}},computed:Object(l["a"])({},Object(_["e"])({examType:function(e){return e.exam.examType},subject:function(e){return e.exam.subject},QuestionsType:function(e){return e.exam.getQuestionsType},getusers:function(e){return e.exam.getuser},questions_item:function(e){return e.exam.questions}})),created:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.questions_id=JSON.parse(sessionStorage.getItem("questions_id")),this.getitem(),this.subjects(),this.getQuestionsType(),this.getuser(),!this.questions_id){e.next=9;break}return e.next=8,this.questions();case 8:this.questions_item.forEach(function(e){e.questions_id==t.questions_id&&(t.sel_id.title=e.title,t.sel_id.questions_stem=e.questions_stem,t.examTypes=e.exam_name,t.value=e.subject_text,t.coures=e.questions_type_text,t.sel_id.questions_answer=e.questions_answer,t.sel_id.exam_id=e.exam_id,t.sel_id.subject_id=e.subject_id,t.sel_id.questions_type_id=e.questions_type_id)});case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:Object(l["a"])({Type:function(e,t){switch(console.log(e,t),this.sel_id.exam_id=e,t){case"exam":this.sel_id.exam_id=e;break;case"sub":this.sel_id.subject_id=e;break;case"topic":this.sel_id.questions_type_id=e;break}},getHtml:function(){this.html=this.$refs.markdownEditor.getHtml()}},Object(_["b"])({additem:"exam/additems",getitem:"exam/getitems",subjects:"exam/subjects",getQuestionsType:"exam/getQuestionsType",getuser:"exam/getuser",update:"exam/update",questions:"exam/questions"}),{submit:function(e){this.questions_id?this.sel_id.questions_stem&&this.sel_id.questions_answer&&this.sel_id.title?(this.update({questions_type_id:this.sel_id.questions_type_id,questions_stem:this.sel_id.questions_stem,subject_id:this.sel_id.subject_id,exam_id:this.sel_id.exam_id,questions_answer:this.sel_id.questions_answer,title:this.sel_id.title,questions_id:this.questions_id}),this.$alert("编辑成功",{confirmButtonText:"确定"}),sessionStorage.setItem("questions_id",d()(""))):this.$alert("请填写所有文本",{confirmButtonText:"确定"}):this.sel_id.questions_type_id&&this.sel_id.questions_stem&&this.sel_id.subject_id&&this.sel_id.exam_id&&this.sel_id.questions_answer&&this.sel_id.title?(this.additem({questions_type_id:this.sel_id.questions_type_id,questions_stem:this.sel_id.questions_stem,subject_id:this.sel_id.subject_id,exam_id:this.sel_id.exam_id,user_id:this.getusers.user_id,questions_answer:this.sel_id.questions_answer,title:this.sel_id.title}),this.$alert("添加成功",{confirmButtonText:"确定"})):this.$alert("请填写所有文本",{confirmButtonText:"确定"})}}),destroyed:function(){sessionStorage.setItem("questions_id",d()(""))}},h=m,p=(i("1305"),i("17cc")),f=Object(p["a"])(h,o,a,!1,null,"1db8daa4",null),v=f.exports,x={components:{Addque:v}},g=x,b=(i("ce1c"),Object(p["a"])(g,s,n,!1,null,"dcb36abe",null));t["default"]=b.exports},"3eb4":function(e,t,i){},"46fb":function(e,t,i){},"5ab7":function(e,t,i){var s=i("836e"),n=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},cc80:function(e,t,i){e.exports=i("5ab7")},ce1c:function(e,t,i){"use strict";var s=i("46fb"),n=i.n(s);n.a}}]);