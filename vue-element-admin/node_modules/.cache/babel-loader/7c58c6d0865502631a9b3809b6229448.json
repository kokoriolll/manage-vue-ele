{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\src\\views\\exam\\examination\\addmination.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\src\\views\\exam\\examination\\addmination.vue","mtime":1555547681936},{"path":"C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1555468404974},{"path":"C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1555468400994},{"path":"C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1555468404974},{"path":"C:\\Users\\ASUS\\Desktop\\project1\\manage-vue-ele\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1555468458169}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\project1\\\\manage-vue-ele\\\\vue-element-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\project1\\\\manage-vue-ele\\\\vue-element-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _stringify = _interopRequireDefault(require(\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\project1\\\\manage-vue-ele\\\\vue-element-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\"));\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\project1\\\\manage-vue-ele\\\\vue-element-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/asyncToGenerator\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\project1\\\\manage-vue-ele\\\\vue-element-admin\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/objectSpread\"));\n\nvar _vuex = require(\"vuex\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar moment = require(\"moment\");\n\nvar _default = {\n  data: function data() {\n    return {\n      num: \"\",\n      ruleForm: {\n        name: \"\",\n        region: \"\",\n        date1: \"\",\n        date2: \"\",\n        delivery: false\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: \"请输入试卷名称\",\n          trigger: \"blur\"\n        }],\n        type: [{\n          required: true,\n          message: \"请选择考试类型\",\n          trigger: \"blur\"\n        }],\n        region: [{\n          required: true,\n          message: \"请选择课程\",\n          trigger: \"blur\"\n        }],\n        Topic: [{\n          required: true,\n          message: \"请选择题量\",\n          trigger: \"blur\"\n        }],\n        date1: [{\n          type: \"date\",\n          required: true,\n          message: \"请选择日期\",\n          trigger: \"change\"\n        }],\n        date2: [{\n          type: \"date\",\n          required: true,\n          message: \"请选择时间\",\n          trigger: \"change\"\n        }]\n      },\n      createExamParams: {},\n      ClassTypeID: \"\",\n      SubjectID: \"\"\n    };\n  },\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapState)({\n    ClassTypeState: function ClassTypeState(state) {\n      return state.examination.ClassTypeData;\n    },\n    SubjectState: function SubjectState(state) {\n      return state.examination.SubjectData;\n    }\n  })),\n  methods: (0, _objectSpread2.default)({}, (0, _vuex.mapMutations)({\n    ClassTypeSave: \"examination/getClassType\",\n    SubjectSave: \"examination/getSubject\"\n  }), (0, _vuex.mapActions)({\n    CreateExam: \"examination/CreateExam\",\n    ClassType: \"examination/ClassType\",\n    Subject: \"examination/Subject\"\n  }), {\n    // getLocalTime(nS) {\n    //   return new Date(parseInt(nS) * 1000).toLocaleString().replace(/:\\d{1,2}$/,' ');\n    // },\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(\n      /*#__PURE__*/\n      function () {\n        var _ref = (0, _asyncToGenerator2.default)(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee(valid) {\n          var dataTime1, dataTime2, localstorage, res;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  dataTime1 = moment(_this.ruleForm.date1).unix();\n                  dataTime2 = moment(_this.ruleForm.date2).unix();\n\n                  if (!valid) {\n                    _context.next = 11;\n                    break;\n                  }\n\n                  localstorage = window.localStorage;\n                  _context.next = 6;\n                  return _this.CreateExam({\n                    subject_id: _this.SubjectID,\n                    exam_id: _this.ClassTypeID,\n                    title: _this.ruleForm.name,\n                    number: _this.ruleForm.Topic,\n                    start_time: dataTime1,\n                    end_time: dataTime2\n                  });\n\n                case 6:\n                  res = _context.sent;\n                  console.log(res);\n                  window.localStorage.setItem(\"CreateExam\", (0, _stringify.default)(res)); //this.$router.push({ path: \"/examination/newExam\" });\n\n                  _context.next = 12;\n                  break;\n\n                case 11:\n                  return _context.abrupt(\"return\", false);\n\n                case 12:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    },\n    handleChange: function handleChange(e) {\n      this.ClassTypeID = e;\n    },\n    handleSub: function handleSub(e) {\n      this.SubjectID = e;\n    }\n  }),\n  created: function created() {\n    this.ClassType();\n    this.Subject();\n  }\n};\nexports.default = _default;",null]}